{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _toConsumableArray from \"@babel/runtime/helpers/toConsumableArray\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"C:\\\\Users\\\\Alden\\\\Documents\\\\Code\\\\javascript\\\\mobile\\\\sleepedo2main\\\\sleepedo2_client\\\\node_modules\\\\react-native-modern-datepicker\\\\src\\\\datePicker\\\\components\\\\SelectTime.js\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React, { useEffect, useRef, useState } from 'react';\nimport View from \"react-native-web/dist/exports/View\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport Animated from \"react-native-web/dist/exports/Animated\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport Easing from \"react-native-web/dist/exports/Easing\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport I18nManager from \"react-native-web/dist/exports/I18nManager\";\nimport { useCalendar } from \"../DatePicker\";\nvar AnimatedFlatList = Animated.createAnimatedComponent(FlatList);\n\nvar TimeScroller = function TimeScroller(_ref) {\n  var title = _ref.title,\n      data = _ref.data,\n      onChange = _ref.onChange;\n\n  var _useCalendar = useCalendar(),\n      options = _useCalendar.options,\n      utils = _useCalendar.utils;\n\n  var _useState = useState(0),\n      _useState2 = _slicedToArray(_useState, 2),\n      itemSize = _useState2[0],\n      setItemSize = _useState2[1];\n\n  var style = styles(options);\n  var scrollAnimatedValue = useRef(new Animated.Value(0)).current;\n  var scrollListener = useRef(null);\n  var active = useRef(0);\n  data = ['', ''].concat(_toConsumableArray(data), ['', '']);\n  useEffect(function () {\n    scrollListener.current && clearInterval(scrollListener.current);\n    scrollListener.current = scrollAnimatedValue.addListener(function (_ref2) {\n      var value = _ref2.value;\n      return active.current = value;\n    });\n    return function () {\n      clearInterval(scrollListener.current);\n    };\n  }, [scrollAnimatedValue]);\n\n  var changeItemWidth = function changeItemWidth(_ref3) {\n    var nativeEvent = _ref3.nativeEvent;\n    var width = nativeEvent.layout.width;\n    !itemSize && setItemSize(width / 5);\n  };\n\n  var renderItem = function renderItem(_ref4) {\n    var item = _ref4.item,\n        index = _ref4.index;\n\n    var makeAnimated = function makeAnimated(a, b, c) {\n      return {\n        inputRange: _toConsumableArray(data.map(function (_, i) {\n          return i * itemSize;\n        })),\n        outputRange: _toConsumableArray(data.map(function (_, i) {\n          var center = i + 2;\n\n          if (center === index) {\n            return a;\n          } else if (center + 1 === index || center - 1 === index) {\n            return b;\n          } else {\n            return c;\n          }\n        }))\n      };\n    };\n\n    return React.createElement(Animated.View, {\n      style: [{\n        width: itemSize,\n        opacity: scrollAnimatedValue.interpolate(makeAnimated(1, 0.6, 0.3)),\n        transform: [{\n          scale: scrollAnimatedValue.interpolate(makeAnimated(1.2, 0.9, 0.8))\n        }, {\n          scaleX: I18nManager.isRTL ? -1 : 1\n        }]\n      }, style.listItem],\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 7\n      }\n    }, React.createElement(Text, {\n      style: style.listItemText,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 9\n      }\n    }, utils.toPersianNumber(String(item).length === 1 ? '0' + item : item)));\n  };\n\n  return React.createElement(View, {\n    style: style.row,\n    onLayout: changeItemWidth,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 5\n    }\n  }, React.createElement(Text, {\n    style: style.title,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 7\n    }\n  }, title), React.createElement(AnimatedFlatList, {\n    pagingEnabled: true,\n    showsHorizontalScrollIndicator: false,\n    horizontal: true,\n    snapToInterval: itemSize,\n    decelerationRate: 'fast',\n    onScroll: Animated.event([{\n      nativeEvent: {\n        contentOffset: {\n          x: scrollAnimatedValue\n        }\n      }\n    }], {\n      useNativeDriver: true\n    }),\n    data: I18nManager.isRTL ? data.reverse() : data,\n    onMomentumScrollEnd: function onMomentumScrollEnd() {\n      var index = Math.round(active.current / itemSize);\n      onChange(data[index + 2]);\n    },\n    keyExtractor: function keyExtractor(_, i) {\n      return String(i);\n    },\n    renderItem: renderItem,\n    inverted: I18nManager.isRTL,\n    contentContainerStyle: I18nManager.isRTL && {\n      transform: [{\n        scaleX: -1\n      }]\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 7\n    }\n  }));\n};\n\nvar SelectTime = function SelectTime() {\n  var _useCalendar2 = useCalendar(),\n      options = _useCalendar2.options,\n      state = _useCalendar2.state,\n      utils = _useCalendar2.utils,\n      minuteInterval = _useCalendar2.minuteInterval,\n      mode = _useCalendar2.mode,\n      onTimeChange = _useCalendar2.onTimeChange;\n\n  var _state = _slicedToArray(state, 2),\n      mainState = _state[0],\n      setMainState = _state[1];\n\n  var _useState3 = useState(false),\n      _useState4 = _slicedToArray(_useState3, 2),\n      show = _useState4[0],\n      setShow = _useState4[1];\n\n  var _useState5 = useState({\n    minute: 0,\n    hour: 0\n  }),\n      _useState6 = _slicedToArray(_useState5, 2),\n      time = _useState6[0],\n      setTime = _useState6[1];\n\n  var style = styles(options);\n  var openAnimation = useRef(new Animated.Value(0)).current;\n  useEffect(function () {\n    show && setTime({\n      minute: 0,\n      hour: 0\n    });\n  }, [show]);\n  useEffect(function () {\n    mainState.timeOpen && setShow(true);\n    Animated.timing(openAnimation, {\n      toValue: mainState.timeOpen ? 1 : 0,\n      duration: 350,\n      useNativeDriver: true,\n      easing: Easing.bezier(0.17, 0.67, 0.46, 1)\n    }).start(function () {\n      !mainState.timeOpen && setShow(false);\n    });\n  }, [mainState.timeOpen, openAnimation]);\n\n  var selectTime = function selectTime() {\n    var newTime = utils.getDate(mainState.activeDate);\n    newTime.hour(time.hour).minute(time.minute);\n    setMainState({\n      type: 'set',\n      activeDate: utils.getFormated(newTime),\n      selectedDate: mainState.selectedDate ? utils.getFormated(utils.getDate(mainState.selectedDate).hour(time.hour).minute(time.minute)) : ''\n    });\n    onTimeChange(utils.getFormated(newTime, 'timeFormat'));\n    mode !== 'time' && setMainState({\n      type: 'toggleTime'\n    });\n  };\n\n  var containerStyle = [style.container, {\n    opacity: openAnimation,\n    transform: [{\n      scale: openAnimation.interpolate({\n        inputRange: [0, 1],\n        outputRange: [1.1, 1]\n      })\n    }]\n  }];\n  return show ? React.createElement(Animated.View, {\n    style: containerStyle,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 186,\n      columnNumber: 5\n    }\n  }, React.createElement(TimeScroller, {\n    title: utils.config.hour,\n    data: Array.from({\n      length: 24\n    }, function (x, i) {\n      return i;\n    }),\n    onChange: function onChange(hour) {\n      return setTime(_objectSpread(_objectSpread({}, time), {}, {\n        hour: hour\n      }));\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 187,\n      columnNumber: 7\n    }\n  }), React.createElement(TimeScroller, {\n    title: utils.config.minute,\n    data: Array.from({\n      length: 60 / minuteInterval\n    }, function (x, i) {\n      return i * minuteInterval;\n    }),\n    onChange: function onChange(minute) {\n      return setTime(_objectSpread(_objectSpread({}, time), {}, {\n        minute: minute\n      }));\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 192,\n      columnNumber: 7\n    }\n  }), React.createElement(View, {\n    style: style.footer,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 197,\n      columnNumber: 7\n    }\n  }, React.createElement(TouchableOpacity, {\n    style: style.button,\n    activeOpacity: 0.8,\n    onPress: selectTime,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 198,\n      columnNumber: 9\n    }\n  }, React.createElement(Text, {\n    style: style.btnText,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 199,\n      columnNumber: 11\n    }\n  }, utils.config.timeSelect)), mode !== 'time' && React.createElement(TouchableOpacity, {\n    style: [style.button, style.cancelButton],\n    onPress: function onPress() {\n      return setMainState({\n        type: 'toggleTime'\n      });\n    },\n    activeOpacity: 0.8,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 202,\n      columnNumber: 11\n    }\n  }, React.createElement(Text, {\n    style: style.btnText,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 210,\n      columnNumber: 13\n    }\n  }, utils.config.timeClose)))) : null;\n};\n\nvar styles = function styles(theme) {\n  return StyleSheet.create({\n    container: {\n      position: 'absolute',\n      width: '100%',\n      height: '100%',\n      top: 0,\n      right: 0,\n      backgroundColor: theme.backgroundColor,\n      borderRadius: 10,\n      flexDirection: 'column',\n      justifyContent: 'center',\n      zIndex: 999\n    },\n    row: {\n      flexDirection: 'column',\n      alignItems: 'center',\n      marginVertical: 5\n    },\n    title: {\n      fontSize: theme.textHeaderFontSize,\n      color: theme.mainColor,\n      fontFamily: theme.headerFont\n    },\n    listItem: {\n      height: 60,\n      alignItems: 'center',\n      justifyContent: 'center'\n    },\n    listItemText: {\n      fontSize: theme.textHeaderFontSize,\n      color: theme.textDefaultColor,\n      fontFamily: theme.defaultFont\n    },\n    footer: {\n      flexDirection: 'row',\n      justifyContent: 'center',\n      marginTop: 15\n    },\n    button: {\n      paddingVertical: 10,\n      paddingHorizontal: 25,\n      borderRadius: 8,\n      backgroundColor: theme.mainColor,\n      margin: 8\n    },\n    btnText: {\n      fontSize: theme.textFontSize,\n      color: theme.selectedTextColor,\n      fontFamily: theme.defaultFont\n    },\n    cancelButton: {\n      backgroundColor: theme.textSecondaryColor\n    }\n  });\n};\n\nexport { SelectTime };","map":{"version":3,"sources":["C:/Users/Alden/Documents/Code/javascript/mobile/sleepedo2main/sleepedo2_client/node_modules/react-native-modern-datepicker/src/datePicker/components/SelectTime.js"],"names":["React","useEffect","useRef","useState","useCalendar","AnimatedFlatList","Animated","createAnimatedComponent","FlatList","TimeScroller","title","data","onChange","options","utils","itemSize","setItemSize","style","styles","scrollAnimatedValue","Value","current","scrollListener","active","clearInterval","addListener","value","changeItemWidth","nativeEvent","width","layout","renderItem","item","index","makeAnimated","a","b","c","inputRange","map","_","i","outputRange","center","opacity","interpolate","transform","scale","scaleX","I18nManager","isRTL","listItem","listItemText","toPersianNumber","String","length","row","event","contentOffset","x","useNativeDriver","reverse","Math","round","SelectTime","state","minuteInterval","mode","onTimeChange","mainState","setMainState","show","setShow","minute","hour","time","setTime","openAnimation","timeOpen","timing","toValue","duration","easing","Easing","bezier","start","selectTime","newTime","getDate","activeDate","type","getFormated","selectedDate","containerStyle","container","config","Array","from","footer","button","btnText","timeSelect","cancelButton","timeClose","theme","StyleSheet","create","position","height","top","right","backgroundColor","borderRadius","flexDirection","justifyContent","zIndex","alignItems","marginVertical","fontSize","textHeaderFontSize","color","mainColor","fontFamily","headerFont","textDefaultColor","defaultFont","marginTop","paddingVertical","paddingHorizontal","margin","textFontSize","selectedTextColor","textSecondaryColor"],"mappings":"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","sourcesContent":["import React, {useEffect, useRef, useState} from 'react';\nimport {\n  View,\n  StyleSheet,\n  Text,\n  Animated,\n  FlatList,\n  Easing,\n  TouchableOpacity,\n  I18nManager,\n} from 'react-native';\n\nimport {useCalendar} from '../DatePicker';\n\nconst AnimatedFlatList = Animated.createAnimatedComponent(FlatList);\n\nconst TimeScroller = ({title, data, onChange}) => {\n  const {options, utils} = useCalendar();\n  const [itemSize, setItemSize] = useState(0);\n  const style = styles(options);\n  const scrollAnimatedValue = useRef(new Animated.Value(0)).current;\n  const scrollListener = useRef(null);\n  const active = useRef(0);\n  data = ['', '', ...data, '', ''];\n\n  useEffect(() => {\n    scrollListener.current && clearInterval(scrollListener.current);\n    scrollListener.current = scrollAnimatedValue.addListener(({value}) => (active.current = value));\n\n    return () => {\n      clearInterval(scrollListener.current);\n    };\n  }, [scrollAnimatedValue]);\n\n  const changeItemWidth = ({nativeEvent}) => {\n    const {width} = nativeEvent.layout;\n    !itemSize && setItemSize(width / 5);\n  };\n\n  const renderItem = ({item, index}) => {\n    const makeAnimated = (a, b, c) => {\n      return {\n        inputRange: [...data.map((_, i) => i * itemSize)],\n        outputRange: [\n          ...data.map((_, i) => {\n            const center = i + 2;\n            if (center === index) {\n              return a;\n            } else if (center + 1 === index || center - 1 === index) {\n              return b;\n            } else {\n              return c;\n            }\n          }),\n        ],\n      };\n    };\n\n    return (\n      <Animated.View\n        style={[\n          {\n            width: itemSize,\n            opacity: scrollAnimatedValue.interpolate(makeAnimated(1, 0.6, 0.3)),\n            transform: [\n              {\n                scale: scrollAnimatedValue.interpolate(makeAnimated(1.2, 0.9, 0.8)),\n              },\n              {\n                scaleX: I18nManager.isRTL ? -1 : 1,\n              },\n            ],\n          },\n          style.listItem,\n        ]}>\n        <Text style={style.listItemText}>\n          {utils.toPersianNumber(String(item).length === 1 ? '0' + item : item)}\n        </Text>\n      </Animated.View>\n    );\n  };\n\n  return (\n    <View style={style.row} onLayout={changeItemWidth}>\n      <Text style={style.title}>{title}</Text>\n      <AnimatedFlatList\n        pagingEnabled\n        showsHorizontalScrollIndicator={false}\n        horizontal\n        snapToInterval={itemSize}\n        decelerationRate={'fast'}\n        onScroll={Animated.event([{nativeEvent: {contentOffset: {x: scrollAnimatedValue}}}], {\n          useNativeDriver: true,\n        })}\n        data={I18nManager.isRTL ? data.reverse() : data}\n        onMomentumScrollEnd={() => {\n          const index = Math.round(active.current / itemSize);\n          onChange(data[index + 2]);\n        }}\n        keyExtractor={(_, i) => String(i)}\n        renderItem={renderItem}\n        inverted={I18nManager.isRTL}\n        contentContainerStyle={\n          I18nManager.isRTL && {\n            transform: [\n              {\n                scaleX: -1,\n              },\n            ],\n          }\n        }\n      />\n    </View>\n  );\n};\n\nconst SelectTime = () => {\n  const {options, state, utils, minuteInterval, mode, onTimeChange} = useCalendar();\n  const [mainState, setMainState] = state;\n  const [show, setShow] = useState(false);\n  const [time, setTime] = useState({\n    minute: 0,\n    hour: 0,\n  });\n  const style = styles(options);\n  const openAnimation = useRef(new Animated.Value(0)).current;\n\n  useEffect(() => {\n    show &&\n      setTime({\n        minute: 0,\n        hour: 0,\n      });\n  }, [show]);\n\n  useEffect(() => {\n    mainState.timeOpen && setShow(true);\n    Animated.timing(openAnimation, {\n      toValue: mainState.timeOpen ? 1 : 0,\n      duration: 350,\n      useNativeDriver: true,\n      easing: Easing.bezier(0.17, 0.67, 0.46, 1),\n    }).start(() => {\n      !mainState.timeOpen && setShow(false);\n    });\n  }, [mainState.timeOpen, openAnimation]);\n\n  const selectTime = () => {\n    const newTime = utils.getDate(mainState.activeDate);\n    newTime.hour(time.hour).minute(time.minute);\n    setMainState({\n      type: 'set',\n      activeDate: utils.getFormated(newTime),\n      selectedDate: mainState.selectedDate\n        ? utils.getFormated(\n            utils\n              .getDate(mainState.selectedDate)\n              .hour(time.hour)\n              .minute(time.minute),\n          )\n        : '',\n    });\n    onTimeChange(utils.getFormated(newTime, 'timeFormat'));\n    mode !== 'time' &&\n      setMainState({\n        type: 'toggleTime',\n      });\n  };\n\n  const containerStyle = [\n    style.container,\n    {\n      opacity: openAnimation,\n      transform: [\n        {\n          scale: openAnimation.interpolate({\n            inputRange: [0, 1],\n            outputRange: [1.1, 1],\n          }),\n        },\n      ],\n    },\n  ];\n\n  return show ? (\n    <Animated.View style={containerStyle}>\n      <TimeScroller\n        title={utils.config.hour}\n        data={Array.from({length: 24}, (x, i) => i)}\n        onChange={hour => setTime({...time, hour})}\n      />\n      <TimeScroller\n        title={utils.config.minute}\n        data={Array.from({length: 60 / minuteInterval}, (x, i) => i * minuteInterval)}\n        onChange={minute => setTime({...time, minute})}\n      />\n      <View style={style.footer}>\n        <TouchableOpacity style={style.button} activeOpacity={0.8} onPress={selectTime}>\n          <Text style={style.btnText}>{utils.config.timeSelect}</Text>\n        </TouchableOpacity>\n        {mode !== 'time' && (\n          <TouchableOpacity\n            style={[style.button, style.cancelButton]}\n            onPress={() =>\n              setMainState({\n                type: 'toggleTime',\n              })\n            }\n            activeOpacity={0.8}>\n            <Text style={style.btnText}>{utils.config.timeClose}</Text>\n          </TouchableOpacity>\n        )}\n      </View>\n    </Animated.View>\n  ) : null;\n};\n\nconst styles = theme =>\n  StyleSheet.create({\n    container: {\n      position: 'absolute',\n      width: '100%',\n      height: '100%',\n      top: 0,\n      right: 0,\n      backgroundColor: theme.backgroundColor,\n      borderRadius: 10,\n      flexDirection: 'column',\n      justifyContent: 'center',\n      zIndex: 999,\n    },\n    row: {\n      flexDirection: 'column',\n      alignItems: 'center',\n      marginVertical: 5,\n    },\n    title: {\n      fontSize: theme.textHeaderFontSize,\n      color: theme.mainColor,\n      fontFamily: theme.headerFont,\n    },\n    listItem: {\n      height: 60,\n      alignItems: 'center',\n      justifyContent: 'center',\n    },\n    listItemText: {\n      fontSize: theme.textHeaderFontSize,\n      color: theme.textDefaultColor,\n      fontFamily: theme.defaultFont,\n    },\n    footer: {\n      flexDirection: 'row',\n      justifyContent: 'center',\n      marginTop: 15,\n    },\n    button: {\n      paddingVertical: 10,\n      paddingHorizontal: 25,\n      borderRadius: 8,\n      backgroundColor: theme.mainColor,\n      margin: 8,\n    },\n    btnText: {\n      fontSize: theme.textFontSize,\n      color: theme.selectedTextColor,\n      fontFamily: theme.defaultFont,\n    },\n    cancelButton: {\n      backgroundColor: theme.textSecondaryColor,\n    },\n  });\n\nexport {SelectTime};\n"]},"metadata":{},"sourceType":"module"}